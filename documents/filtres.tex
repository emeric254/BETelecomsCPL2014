\documentclass[a4paper,11pt]{article}
\usepackage[utf8]{inputenc}
\usepackage{color,amsmath,xcolor,listings,graphicx}
\usepackage[francais]{babel}
\usepackage{hyperref}

%% paramétrage pour les zones de 'code'
\lstdefinelanguage{javascript}{
  keywords={typeof, new, true, false, catch, function, return, null, catch, switch, var, if, for, in, while, do, else, case, break},
  keywordstyle=\color{blue}\bfseries,
  ndkeywords={class, export, boolean, throw, implements, import, this},
  ndkeywordstyle=\color{darkgray}\bfseries,
  identifierstyle=\color{black},
  sensitive=false,
  comment=[l]{//},
  morecomment=[s]{/*}{*/},
  commentstyle=\color{purple}\ttfamily,
  stringstyle=\color{red}\ttfamily,
  morestring=[b]',
  morestring=[b]"
}

\lstset{
    language=javascript, commentstyle=\textit, frame=shadowbox,
    rulesepcolor=\color{gray}, basicstyle=\ttfamily\small, columns=flexible,
    tabsize=4, extendedchars=true, showspaces=false,
    showstringspaces=false, numbers=left, numberstyle=\tiny,
    breaklines=true, breakautoindent=true, captionpos=b, morecomment=[l]{//}
}


%% infos du document
\title{Filtres}
\author{Loïc Barbaresco, Rémi Barbaste, Robin Degironde, Émeric Tosi}
\date{\today}


\begin{document}

%% Afficher la page de garde : Titre + Auteur(s) + Date de dernière compilation
    \maketitle{}

    \clearpage

    \setcounter{tocdepth}{2} % définir la profondeur de l'Index
    \renewcommand{\contentsname}{Sommaire} % renommer l'Index en Sommaire
    \tableofcontents{} % afficher l'Index

    \clearpage


\section{Définition}
    \paragraph{}
Un filtre est un dispositif (actif ou passif) qui permet de réaliser une opération de traitement du signal.
En effet, il permet de transformer un signal reçu en entrée en un signal de sortie différent par le biais de circuits électroniques, ces derniers servant à modifier le spectre de fréquence et/ou la phase du signal reçu.
    \paragraph{}
Les filtres permettent donc l’isolement, l’élimination ou la séparation de signaux.
Ce traitement peut par exemple consister à éliminer ou affaiblir des fréquences parasites (comme du bruit), et/ou à isoler une information utile présente au sein d'une certaine bande passante d'un signal.
    \\
    \begin{figure}[h]
        \begin{center}
            \includegraphics[scale=0.7]{images/filtres/filtre-passif.jpg}
        \end{center}
            \caption{ Un filtre passif }
            \label{Un exemple de filtre passif}
    \end{figure}
    \\
    \begin{figure}[h]
        \begin{center}
            \includegraphics[scale=0.7]{images/filtres/filtre-actif.jpg}
        \end{center}
            \caption{ Un filtre actif }
            \label{Un exemple de filtre actif}
    \end{figure}

    \clearpage


\section{Différences entre filtre analogique et numérique}
    \paragraph{}
Parmi les différents filtres existants, on peut les classer selon deux catégories : analogiques ou numériques.
    \paragraph{}
Un filtre analogique permet de traiter de façon analogique un signal en retirant les signaux indésirables afin de ne conserver qu’un signal utile.
De ce fait, le signal qui le traverse est diffèrent en sortie que celui présent en entrée, cette modification est appliquée directement au signal.
    \paragraph{}
Un filtre numérique permet de traiter numériquement un signal.
Pour cela, le signal est numérisé sur le support en entrée, grâce par exemple à un convertisseur analogique-numérique (CAN) afin d’échantillonner ce signal.
On modifie, vérifie ou trie ensuite ces informations binaires constituant un flux de données.
On émet finalement un nouveau signal généré à partir de ce flux binaire de données sur le support en sortie grâce par exemple à un convertisseur numérique-analogique (CNA).

    \clearpage


\section{Différences entre filtre passif et actif}
    \paragraph{}
Les filtres passifs sont composés uniquement d’éléments passifs (c’est-à-dire des éléments résistifs, capacitifs et inductifs).
De ce fait, le gain d’un tel filtre ne peut excéder 1, un tel type de filtre ne peut qu’atténuer une partie d’un signal, il ne peut donc pas être utilisé donc le but d’amplifier un signal.
Les réalisations les plus simples sont réalisées à partir de circuits RC ou RL, cependant on peut trouver des association diverses de composants (comme LC ou RLC), toutefois ces circuits sont plus complexes.
    \paragraph{}
Les filtres actifs contiennent au moins un élément actif, comme un transistor ou un amplificateur opérationnel, qui va amplifier le signal.
Avec un tel filtre, il est possible d’avoir un gain supérieur à 1.
On peut les utiliser pour atténuer tout comme pour amplifier certaines fréquences d’un signal.
    \paragraph{}
Toutefois lors de l’utilisation des hautes fréquences, le problème qui se pose est que la notion de filtre ne signifie plus rien.
Tous les composants, y compris les lignes électromagnétiques, constituant le filtre possèdent une atténuation, des capacités et des inductances qui influes sur le résultat du filtre.
La fonction d’amplificateur opérationnel n’existe pas non plus.

    \clearpage


\section{Comparaison de filtres}
    \subsection{Caracteristiques}
        \paragraph{}
        \begin{itemize}
            \item Pente d’atténuation supérieure à 40dB/décade autour de la fréquence de coupure;
            \item Filtres d’ordre impair : Impédances d’entrée et de sortie identiques;
            \item Ordre plus petit pour une grande sélectivité;
            \item Calculs simples.
        \end{itemize}

    \subsection{Inconvenients}
        \paragraph{}
        \begin{itemize}
            \item Très mauvaise linéarité de phase;
            \item Temps de propagation de groupe non constant en bande passante (déphasage non linéaire);
            \item Ondulation dans la bande passante, à ordre n, il présente n ondulation(s) dans la bande passante.
        \end{itemize}

    \clearpage


\section{Calculs}
    \paragraph{}
Afin de réaliser un programme de calcul des filtres passe-bas de Tchebyscheff, nous avons choisi d’utiliser du JavaScript (pour la partie traitement) associé au couple HTML/CSS (pour la partie rendu et affichage).
Dans la partie JavaScript, nous calculons les valeurs des éléments localisés Lk, Ck et Rn à partir des caractéristiques du filtre.
Ces dernières, fournies par l'utilisateur, sont l’ordre, le taux d’ondulation maximal, la fréquence de coupure ainsi que l’impédance R1.
    \paragraph{}
A partir des valeurs saisies, nous calculons la pulsation, la valeur de beta et de gamma, ensuite la valeur de R en appliquant la bonne formule selon si l’ordre est pair ou impair.
Puis nous déterminons les valeurs des Ak, Bk, Gk, L, C.
    \paragraph{}
Nous affichons les résultats sous la forme d’un tableau en indiquant l’ordre, la valeur du condensateur C, celle de l’inductance L et celle de la résistance R.
    \\
    \begin{figure}[h]
        \begin{center}
            \includegraphics[scale=0.3]{images/filtres/screen-site.png}
        \end{center}
            \caption{ La page de calcul de notre outil }
            \label{La page de calcul de notre outil de calcul de filtres de Tchebyscheff}
    \end{figure}

    \clearpage

    \subsection{calcul de la pulsation}
        \paragraph{}
        \[ \mbox{Pulsation Wc} = 2 * \pi * \mbox{ Fréquence de coupure}\]
        \begin{lstlisting}
            /* pulsation */

            Wc = 2 * Math.PI * freqCoup;

        \end{lstlisting}

    \subsection{calcul de beta}
        \paragraph{}
        \[ \mbox{Béta } \beta = \log( \frac{ \cosh( \frac{ \mbox{Ondulation} }{17,37} ) } { \sinh( \frac{ \mbox{Ondulation} }{17,37} ) } )\]
        \begin{lstlisting}
            /* beta */

            beta = Math.log( ( cosh( ondulation / 17.37 ) ) / ( sinh( ondulation / 17.37 ) ) );

        \end{lstlisting}

    \subsection{calcul de gamma}
        \paragraph{}
        \[ \mbox{Gamma } \gamma = \sinh( \frac{ \beta }{ 2 * \mbox{Ordre} } ) \]
        \begin{lstlisting}
            /* gamma */

            gamma = sinh( beta / ( 2 * ordre ) );

        \end{lstlisting}

    \clearpage

    \subsection{calcul de R}
        \paragraph{}
        Si l'ordre est pair \[ \mbox{Résistance équivalente Rn} = ( \tanh{ \frac{ \beta }{ 4 } } ) ^2 * \mbox{Impédance} \]
        Si l'ordre est impair \[ \mbox{Résistance équivalente Rn} = \mbox{Impédance} \]
        \begin{lstlisting}
            /* calcul de R */

            if ( ( ordre % 2 ) != 0 )
            {
                R = 1;
            }
            else
            {
                R = tanh( beta / 4 ) * tanh( beta / 4 );
            }

            /* calcul de Rn */

            Rn = R * impedance;

        \end{lstlisting}

    \subsection{calcul de Ak }
        \paragraph{}
        \[ \mbox{Ak} = ( \tanh{ \frac{ \beta }{ 4 } } ) ^2 * \mbox{Impédance} \]
        \begin{lstlisting}
            /* calcul des Ak */

            for( k = 1; k <= ordre; k++ )
            {
                Ak[k] = Math.sin( ( ( 2 * k-1 ) * Math.PI ) / ( 2 * ordre ) );
            }

        \end{lstlisting}

    \clearpage

    \subsection{calcul de Bk }
        \paragraph{}
        ... \[ \mbox{Bk} = 0 \]
        \begin{lstlisting}
            /* calcul des Bk */

            for( k = 1; k <= ordre; k++ )
            {
                Bk[k] = gamma * gamma + Math.sin( k * Math.PI / ordre ) * Math.sin( k * Math.PI / ordre );
            }

        \end{lstlisting}

    \subsection{calcul de Gk }
        \paragraph{}
        ... \[ \mbox{Gk} = 0 \]
        \begin{lstlisting}
            /* calcul des Gk */

            Gk[1] = 2 * Ak[1] / gamma;

            for( k = 2; k <= ordre ; k++ )
            {
                Gk[k] = ( 4 * Ak[k-1] * Ak[k] ) / ( Bk[k-1] * Gk[k-1] );
            }

        \end{lstlisting}

    \clearpage

    \subsection{calcul de L }
        \paragraph{}
        ... \[ \mbox{L} = 0 \]
        \begin{lstlisting}
            /* calcul des L */

            for( k = 1; k <= ordre ; k++ )
            {
                l[k] = ( impedance * Gk[k] ) / Wc ;
            }

        \end{lstlisting}

    \subsection{calcul de C }
        \paragraph{}
        ... \[ \mbox{C} = 0 \]
        \begin{lstlisting}
            /* calcul des C */

            for( k = 1; k <= ordre ; k++ )
            {
                c[k] = Gk[k] / ( ( impedance * Wc ) );
            }

        \end{lstlisting}


    \clearpage

\section{Code complet}
    \subsection{HTML}
\lstset{
    language=html, commentstyle=\textit, frame=shadowbox,
    rulesepcolor=\color{gray}, basicstyle=\ttfamily\small, columns=flexible,
    tabsize=4, extendedchars=true, showspaces=false,
    showstringspaces=false, numbers=left, numberstyle=\tiny,
    breaklines=true, breakautoindent=true, captionpos=b, morecomment=[l]{//}
}
        \lstinputlisting{../Filtres/sources/index.html}

    \clearpage

    \subsection{JavaScript}
\lstset{
    language=javascript, commentstyle=\textit, frame=shadowbox,
    rulesepcolor=\color{gray}, basicstyle=\ttfamily\small, columns=flexible,
    tabsize=4, extendedchars=true, showspaces=false,
    showstringspaces=false, numbers=left, numberstyle=\tiny,
    breaklines=true, breakautoindent=true, captionpos=b, morecomment=[l]{//}
}
        \lstinputlisting{../Filtres/sources/rsc/app.js}

    \clearpage

\end{document}
